## Introduction to SSH

-  **HTTP or Hypertext Transfer Protocol**, allows you to send files over the internet like a HTML, CSS, and javascript files between browsers and servers. **FTP or file transfer protocol** allows you to send files as well and is often used when you upload files to something like a generic hosting platform from your computer. There are many other protocols like IMAP that allow users to send e-mails and tons of others, and just like these

- **HTTPS** is similar to HTTP but it is encrypted. That means third parties can't read the files being transferred if they intercept the messages.
- **SSH** is another protocol that allows us to communicate between two computers over the Internet. It allows users to share files as well as control and modify remote computers over the internet by using of encryption to ensure secure transfer of information between host and the client.

- <u> **Reminder - HTTPS vs SSH** </u>

   -  They're both a form of communication and they're both encrypted.
   - Just like a "web browser" uses the HTTPS protocol to talk with servers, and display web sites in a secure way ; "a shell" needs a certain protocol to enable data exchange or communication between two devices
   - HTTPS is application layer It uses the services of HTTP protocol. SSH is a presentation layer protocol in OSI model. It uses the services of TCP/IP protocol

## Encryption Techniques in SSH

- **Symmetric encryption** uses one secret key for both the encryption and decryption by both parties - requires call a key exchange algorithm to be more secure.(We need some way with symmetric encryption to generate the key without entering the public.
) The secret key is specific to each SSH session and is generated prior to Cline's authentication.

- **Asymmetrical encryption**  uses two separate keys for encryption and
decryption. Also known as public keys and private keys; together form a key pair. A message that is encrypted by machines public key can only be decrypted by the same machines private key. And it's what we call a one way relationship. Public key cannot decrypt its own message nor can it decrypt anything encrypted by a private key. It can only encrypt something and it can only be decrypted by its paired private key.

- **Hashing** is another form of cryptography used in secure shell connections. This algorithm makes it possible for each party to combine their own private data with public data from other systems to arrive in an identical secret session key.They're never meant to decrypt anything. They simply generate a unique value of a fixed length for each input. Most important characteristic of hash functions is that any single difference on input is going to spit out a completely different number


- <u> **Which one does SSH Use ?** </u>
SSH uses both symmetric and asymmetric encryption as well as a hash function. Asymmetric encryption with SSH is actually only used during the key exchange algorithm of symmetric encryption. For SSH, before a secure connection is initiated both parties generate temporary public and private keys and share their respective keys. Then a  symmetric is generated by using [the Diffieâ€“Hellman key exchange method](https://security.stackexchange.com/questions/45963/diffie-hellman-key-exchange-in-plain-english). Using the third technique, hashes, SSH is able to verify the authentication of the message to prevent Man in the Middle attacks (uses HMX or hash based Message Authentication codes)

- **Authentication** could be via password or SSH (using RSA which allows us to provide or prove the identity of the person without a password)

```bash
#go into ssh folder (or create one, as hidden )
cd ~/.ssh
#generate public and private key
# -C = comment : provides new comment
# -t = type : The type of key to be generated
#recommended
ssh-keygen -t rsa -b 4096 -C "burakunuvar@gmail.com"

#Enter file in which to save the key (/Users/buraku/.ssh/id_rsa):
/Users/buraku/.ssh/id_rsa_aws

#Enter passphrase (empty for no passphrase): ***

# Generated public/private rsa key pair. Now copy only the public key and use it on where you need; ec2 or github  :
pbcopy < ~/.ssh/id_rsa_aws.pub

```

[Connecting to GitHub with SSH](https://help.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh)

```bash
# Connect by using related private key

#1 check ssh agent
eval "$(ssh-agent -s)"
#2 start if not working
start ssh-agent
#3 Add your SSH private key to the ssh-agent
ssh-add -K ~/.ssh/id_rsa_github
#4 Test connection
ssh -T git@github.com

#4 to list all identities
ssh-add -l
#3 to remove all identities
ssh-add -D
```

[Personal Access Token for MFA](https://stackoverflow.com/questions/29297154/github-invalid-username-or-password)
